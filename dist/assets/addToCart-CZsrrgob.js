import"./style-DHCyr8J-.js";import"./footer-DD7-vrAD.js";import{g as i,s as S,u as C,p as P}from"./showToast-BMXN9CWy.js";const q=(r,e)=>{let c=i().find(u=>u.id===r),n=1;return c&&(n=c.quantity,e=c.price),{quantity:n,price:e}},y=()=>{let r=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),n=i().reduce((u,l)=>{let t=parseInt(l.price)||0;return u+t},0);r.textContent=`Rs.${n}`,e.textContent=`Rs.${n+50}`},f=(r,e,o,c)=>{const n=document.querySelector(`#card${e}`),u=n.querySelector(".productQuantity"),l=n.querySelector(".productPrice");let t=1,a=0,d=i(),m=d.find(s=>s.id===e);m?(t=m.quantity,a=m.price):(a=c,c=c),r.target.className==="cartIncreament"&&(t<o?t+=1:t===o&&(t=o,a=c*o)),r.target.className==="cartDecreament"&&t>1&&(t-=1),a=c*t,a=Number(a.toFixed(0));let p={id:e,quantity:t,price:a};p=d.map(s=>s.id===e?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),u.innerText=t,l.innerText=a,y()},g=r=>{let e=i();e=e.filter(c=>c.id!==r),localStorage.setItem("cartProductLS",JSON.stringify(e));let o=document.getElementById(`card${r}`);o&&(o.remove(),S("delete",r)),C(e),y()};let x=i(),T=P.filter(r=>x.some(e=>e.id===r.id));const E=document.querySelector("#productCartContainer"),N=document.querySelector("#productCartTemplate"),v=()=>{T.forEach(r=>{const{category:e,id:o,image:c,name:n,stock:u,price:l}=r;let t=document.importNode(N.content,!0);const a=q(o,l);t.querySelector(".category").textContent=e,t.querySelector("#cardValue").setAttribute("id",`card${o}`),t.querySelector(".productName").textContent=n,t.querySelector(".productsImage").src=c,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=a.price,t.querySelector(".stockElement").addEventListener("click",d=>{f(d,o,u,l)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>g(o)),E.appendChild(t)})};v();y();
